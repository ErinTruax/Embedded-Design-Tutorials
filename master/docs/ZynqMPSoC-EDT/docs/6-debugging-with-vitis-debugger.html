


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Embedded Design Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master">Master</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../_sources/ZynqMPSoC-EDT/docs/6-debugging-with-vitis-debugger.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Embedded Design Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Debugging Standalone Applications with the Vitis Debugger</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/ZynqMPSoC-EDT/docs/6-debugging-with-vitis-debugger.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p align="right">
            Read this page in other languages:<a href="../docs-jp/5-debugging-with-vitis-debugger.md">日本語</a>    <table style="width:100%"><table style="width:100%">
  <tr><th width="100%" colspan="6"><img src="https://www.xilinx.com/content/dam/xilinx/imgs/press/media-kits/corporate/xilinx-logo.png" width="30%"/><h1>Zync UltraScale+ MPSoC Embedded Design Tutorial 2020.2 (UG1209)</h1>
</th>  </tr>
  <tr>
    <td width="17%" align="center"><a href="../README.md">1. Introduction</a></td>
    <td width="16%" align="center"><a href="2-getting-started.md">2. Getting Started</a></td>
    <td width="17%" align="center"><a href="3-system-configuration.md">3. Zynq UltraScale+ MPSoC System Configuration</a></td>
    <td width="17%" align="center"><a href="4-build-sw-for-ps-subsystems.md">4. Build Software for PS Subsystems</a></td>
</tr>
<tr>
    <td width="17%" align="center"><a href="5-build-linux-sw-for-ps.md">5. Building Linux Applications for PS</a></td>
    <td width="16%" align="center">6. Debugging Standalone Applications</td>
    <td width="17%" align="center"><a href="7-debugging-linux-app.md">7. Debugging Linux Applications</a></td>
    <td width="17%" align="center"><a href="8-boot-and-configuration.md">8. Boot and Configuration</a></td>    
  </tr>
</table><ul class="simple">
<li><p><a class="reference external" href="#debugging-standalone-applications-with-the-vitis-debugger">Debugging Standalone Applications with the Vitis Debugger</a></p>
<ul>
<li><p><a class="reference external" href="#xilinx-system-debugger">Xilinx System Debugger</a></p></li>
<li><p><a class="reference external" href="#debugging-software-using-the-vitis-debugger">Debugging Software Using the Vitis Debugger</a></p></li>
<li><p><a class="reference external" href="#debugging-using-xsct">Debugging Using XSCT</a></p>
<ul>
<li><p><a class="reference external" href="#set-up-target">Set Up Target</a></p></li>
<li><p><a class="reference external" href="#load-the-application-using-xsct">Load the Application Using XSCT</a></p></li>
<li><p><a class="reference external" href="#serial-terminal-configuration">Serial Terminal Configuration</a></p></li>
<li><p><a class="reference external" href="#run-and-debug-application-using-xsct">Run and Debug Application Using XSCT</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="debugging-standalone-applications-with-the-vitis-debugger">
<h1>Debugging Standalone Applications with the Vitis Debugger<a class="headerlink" href="#debugging-standalone-applications-with-the-vitis-debugger" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes debug possibilities with the design flow you
have already been working with. The first option is debugging with
software using the Vitis™ debugger.</p>
<p>The Vitis debugger provides the following debug capabilities:</p>
<ul class="simple">
<li><p>Supports debugging of programs on Arm® Cortex™-A53, Arm®
Cortex™-R5F, and MicroBlaze™ processor architectures
(heterogeneous multi-processor hardware system debugging)</p></li>
<li><p>Supports debugging of programs on hardware boards</p></li>
<li><p>Supports debugging on remote hardware systems</p></li>
<li><p>Provides a feature-rich IDE to debug programs</p></li>
<li><p>Provides a Tool Command Language (Tcl) interface for running test
scripts and automation</p></li>
</ul>
<p>The Vitis debugger enables you to see what is happening to a program
while it executes. You can set breakpoints or watchpoints to stop the
processor, step through program execution, view the program variables
and stack, and view the contents of the memory in the system.</p>
<p>The Vitis debugger supports debugging through Xilinx® System Debugger.</p>
<div class="section" id="xilinx-system-debugger">
<h2>Xilinx System Debugger<a class="headerlink" href="#xilinx-system-debugger" title="Permalink to this headline">¶</a></h2>
<p>The Xilinx System Debugger uses the Xilinx hardware server as the
underlying debug engine. The Vitis IDE translates each user interface
action into a sequence of Target Communication Framework (TCF)
commands. It then processes the output from System Debugger to display
the current state of the program being debugged. It communicates to
the processor on the hardware using Xilinx hardware server.</p>
<p>The debug workflow is described in the following figure.</p>
<p><img alt="../../_images/system-debugger-flow.png" src="../../_images/system-debugger-flow.png" /></p>
<p>The workflow is made up of the following components:</p>
<ul class="simple">
<li><p><strong>Executable ELF File:</strong> To debug your application, you must use an
Executable and Linkable Format (ELF) file compiled for debugging.
The debug ELF file contains additional debug information for the
debugger to make direct associations between the source code and
the binaries generated from that original source. To manage the
build configurations, right-click the software application and
select <strong>Build Configurations → Manage</strong>.</p></li>
<li><p><strong>Debug Configuration:</strong> To launch the debug session, you must
create a debug configuration in the Vitis debugger. This
configuration captures options required to start a debug session,
including the executable name, processor target to debug, and
other information. To create a debug configuration, right-click
your software application and select <strong>Debug As→ Debug
Configurations</strong>.</p></li>
<li><p><strong>Vitis Debug Perspective:</strong> Using the Debug perspective, you can
manage the debugging or running of a program in the Workbench. You
can control the execution of your program by setting breakpoints,
suspending launched programs, stepping through your code, and
examining the contents of variables. To view the Debug
Perspective, select <strong>Window → Open Perspective → Debug</strong>.</p></li>
</ul>
<p>You can repeat the cycle of modifying the code, building the
executable, and debugging the program in the Vitis debugger.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If you edit the source after compiling, the line numbering
will be out of step because the debug information is tied directly to
the source. Similarly, debugging optimized binaries can also cause
unexpected jumps in the execution trace.</p>
</div></blockquote>
</div>
<div class="section" id="debugging-software-using-the-vitis-debugger">
<h2>Debugging Software Using the Vitis Debugger<a class="headerlink" href="#debugging-software-using-the-vitis-debugger" title="Permalink to this headline">¶</a></h2>
<p>In this example, you will walk through debugging a Hello World
application.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If you did not create a Hello World application on APU or
RPU, follow the steps in <a class="reference external" href="4-build-sw-for-ps-subsystems.md#create-custom-bare-metal-application-for-arm-cortex-a53-based-apu">Create
Custom Bare-Metal Application for Arm Cortex-A53 based
APU</a>
to create a new hello world application.</p>
</div></blockquote>
<p>After you create the Hello World application, work through the
following example to debug the software using the Vitis debugger.</p>
<ol>
<li><p>Follow the steps in <a class="reference external" href="4-build-sw-for-ps-subsystems.md#example-project-running-the-hello-world-application-from-arm-cortex-a53">Example Project: Running the “Hello World” Application from Arm Cortex-A53</a>
to set the target in JTAG mode and power ON.</p></li>
<li><p>In the C/C++ Perspective, right-click the <strong>test_a53 Project</strong> and
select <strong>Debug As→ Launch on Hardware→ Single Application Debug</strong>.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The above step launches the Application Debugger in the
Debug perspective based on the project settings. Alternatively, you
can also create a Debug configuration which looks like the following
figure.</p>
</div></blockquote>
<p><img alt="../../_images/image451.jpeg" src="../../_images/image451.jpeg" /></p>
<p>If the Confirm Perspective Switch popup window appears, click <strong>Yes</strong>.
The Debug perspective opens.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If the Debug perspective window does not automatically
open, select <strong>Window→ Perspective → Open Perspective → Other</strong>, then
select <strong>Debug</strong> in the Open Perspective wizard.</p>
</div></blockquote>
<p><img alt="../../_images/image46.jpeg" src="../../_images/image46.jpeg" /></p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The addresses shown on this page might slightly differ
from the addresses shown on your system.</p>
</div></blockquote>
<p>The processor is currently sitting at the beginning of <code class="docutils literal notranslate"><span class="pre">main()</span></code> with
program execution suspended at line <code class="docutils literal notranslate"><span class="pre">0000000000000cf0</span></code>. You can confirm
this information in the Disassembly view, which shows the
assembly-level program execution also suspended at <code class="docutils literal notranslate"><span class="pre">0000000000000cf0</span></code>.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If the Disassembly view is not visible, select <strong>Window→ Show View→ Disassembly</strong>.</p>
</div></blockquote>
</li>
<li><p>The helloworld.c window also shows execution suspended at the first
executable line of C code. Select the <strong>Registers</strong> view to
confirm that the program counter, pc register, contains
<code class="docutils literal notranslate"><span class="pre">0000000000000cf0</span></code>.</p>
<p><strong><em>Note</em>:</strong> If the Registers window is not visible, select <strong>Window→ Show View→ Registers</strong>.</p>
</li>
<li><p>Double-click in the margin of the helloworld.c window next to the
line of code that reads print (“<code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">World\n\r</span></code>”);. This sets a
breakpoint at the printf command. To confirm the breakpoint,
review the Breakpoints window.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If the Breakpoints window is not visible, select <strong>Window → Show View→ Breakpoints</strong>.</p>
</div></blockquote>
</li>
<li><p>Select <strong>Run → Step Into</strong> to step into the <code class="docutils literal notranslate"><span class="pre">init_platform()</span></code> routine.</p>
<p>Program execution suspends at location <code class="docutils literal notranslate"><span class="pre">0000000000000d3c</span></code>. The call
stack is now two levels deep.</p>
</li>
<li><p>Select <strong>Run → Resume</strong> to continue running the program to the
breakpoint.</p>
<p>Program execution stops at the line of code that includes the printf
command. The Disassembly and Debug windows both show program execution
stopped at <code class="docutils literal notranslate"><span class="pre">0000000000001520</span></code>.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The execution address in your debugging window might
differ if you modified the hello world source code in any way.</p>
</div></blockquote>
</li>
<li><p>Select <strong>Run → Resume</strong> to run the program to conclusion.</p></li>
</ol>
<p>When the program completes, the Debug window shows that the program is
suspended in a routine called exit. This happens when you are running
under control of the debugger.</p>
<ol>
<li><p>Re-run your code several times.
Experiment with single-stepping, examining memory, breakpoints,
modifying code, and adding print statements. Try adding and moving
views.</p>
<blockquote>
<div><p><strong>TIP:</strong> <em>You can use the Vitis debugger debugging shortcuts for
step-into (F5), step-return (F7), step-over (F6), and resume (F8).</em></p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="debugging-using-xsct">
<h2>Debugging Using XSCT<a class="headerlink" href="#debugging-using-xsct" title="Permalink to this headline">¶</a></h2>
<p>You can use the previous steps to debug bare-metal applications
running on RPU and PMU using Vitis Application Debugger GUI.</p>
<p>Additionally, you can debug in the command line mode using XSDB, which
is encapsulated as a part of XSCT. In this example, you will debug the
bare-metal application testapp_r5 using XSCT.</p>
<p>Following steps indicate how to load a bare-metal application on R5
using XSCT. This example is just to demonstrate the command line
debugging possibility using XSDB/XSCT. Based on the requirement, you
can choose to debug the code using either the System Debugger
graphical interface or the command line debugger in XSCT. All XSCT
commands are scriptable and this applies to the commands covered in
this example.</p>
<div class="section" id="set-up-target">
<h3>Set Up Target<a class="headerlink" href="#set-up-target" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Connect a USB cable between USB-JTAG J2 connector on target and the
USB port on the host machine.</p></li>
<li><p>Set the board in JTAG Boot mode, where SW6 is
set as shown in following figure.</p>
<p><img alt="../../_images/image26.jpeg" src="../../_images/image26.jpeg" /></p>
</li>
<li><p>Power on the Board using switch SW1.</p></li>
<li><p>Open XSCT Console, click the <strong>XSCT Console</strong> button
<img alt="../../_images/image482.png" src="../../_images/image482.png" /> in the tool bar. Alternatively,
you can also open the XSCT console from <strong>Xilinx → XSCT Console</strong>.</p></li>
<li><p>In the XSCT Console, connect to the target over JTAG using the
connect command:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">connect</span></code></p>
<p>The connect command returns the channel ID of the connection.</p>
</li>
<li><p>Command targets lists the available targets and allows you to select
a target through its ID. The targets are assigned IDs as they are
discovered on the JTAG chain, so the target IDs can change from
session to session.</p>
<p>For non-interactive usage such as scripting, the -filter option can be
used to select a target instead of selecting the target through its
ID:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">targets</span></code></p>
<p>The targets are listed as shown in the following figure.</p>
<p><img alt="../../_images/image492.png" src="../../_images/image492.png" /></p>
</li>
<li><p>Now select the PSU target. The Arm APU and RPU clusters are grouped
under PSU. Select Cortex-A53#0 as target using the following
command.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">targets</span> <span class="pre">-set</span> <span class="pre">-filter</span> <span class="pre">{name</span> <span class="pre">=\~</span> <span class="pre">\&quot;Cortex-A53</span> <span class="pre">\#0\&quot;}</span></code></p>
<p>The command targets now lists the targets and also shows the selected
target highlighted with as asterisk (*) mark. You can also use target
number to select a target, as shown in the following figure.</p>
<p><img alt="../../_images/image50.png" src="../../_images/image50.png" /></p>
</li>
<li><p>The processor is now held in Reset. To clear the processor reset,
use the following command:</p>
<p><code class="docutils literal notranslate"><span class="pre">rst</span> <span class="pre">-processor</span></code></p>
</li>
<li><p>Load the FSBL on Cortex-A53 #0. FSBL initializes the processing
system of Zynq UltraScale+.</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span>xsct% dow {C:\edt\fsbl_a53\Debug\fsbl_a53.elf}
xsct% con
xsct% stop
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The {} used in the above command are required on windows
machine to enable backward slash () in paths. These braces can be
avoided by using forward “/” in paths. Considering Linux paths, use
forward “/” because the paths in XSCT in Linux can work as is,
without any braces.</p>
</div></blockquote>
</div>
<div class="section" id="load-the-application-using-xsct">
<h3>Load the Application Using XSCT<a class="headerlink" href="#load-the-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Download the testapp_r5 application on Arm Cortex-R5F Core 0.</p></li>
<li><p>Check and select RPU Cortex-R5F Core 0 target ID.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span> <span class="o">-</span><span class="nb">set</span> <span class="o">-</span><span class="nb">filter</span> <span class="p">{</span><span class="n">name</span> <span class="o">=~</span> <span class="s2">&quot;Cortex-R5 #0&quot;</span><span class="p">}</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">rst</span> <span class="o">-</span><span class="n">processor</span>
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">rst</span> <span class="pre">-processor</span></code> clears the reset on an individual processor
core.</p>
<p>This step is important, because when Zynq MPSoC boots up JTAG boot
mode, all the Cortex- A53 and Cortex-R5F cores are held in reset. You
must clear the resets on each core, before debugging on these cores.
The rst command in XSDB can be used to clear the resets.</p>
</li>
</ol>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The command rst -cores clears resets on all the processor
cores in the group (such as APU or RPU), of which the current target
is a child. For example, when A53 #0 is the current target, rst -
cores clears resets on all the Cortex-A53 cores in APU.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">dow</span> <span class="pre">{C:\edt\testapp_r5\Debug\testapp_r5.elf}</span></code>
or
<code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">dow</span> <span class="pre">{C:/edt/testapp_r5/Debug/testapp_r5.elf}</span></code></p>
<p>At this point, you can see the sections from the ELF file downloaded
sequentially. The XSCT prompt can be seen after successful download. Now, configure a serial terminal (Tera Term, Mini com, or the Serial
Terminal interface for UART-1 USB-serial connection).</p>
</div></blockquote>
</div>
<div class="section" id="serial-terminal-configuration">
<h3>Serial Terminal Configuration<a class="headerlink" href="#serial-terminal-configuration" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Start a terminal session, using Tera
Term or Mini com depending on the host machine being used, and the
COM port and baud rate as shown in following figure.</p>
<p><img alt="../../_images/image44.png" src="../../_images/image44.png" /></p>
</li>
<li><p>For port settings, verify the COM port in the device manager. There
are four USB UART interfaces exposed by the ZCU102 board. Select
the COM port associated with the interface with the lowest number.
So in this case, for UART-0, select the COM port with interface-0.</p></li>
<li><p>Similarly, for UART-1, select COM port with interface-1. Remember
that R5 BSP has been configured to use UART-1, and so R5
application messages will appear on the COM port with UART-1
terminal.</p></li>
</ol>
</div>
<div class="section" id="run-and-debug-application-using-xsct">
<h3>Run and Debug Application Using XSCT<a class="headerlink" href="#run-and-debug-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Before you run the application, set a breakpoint at main().</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">bpadd</span> <span class="pre">-addr</span> <span class="pre">&amp;main</span></code></p>
<p>This command returns the breakpoint ID. You can verify the breakpoints
planted using command bplist. For more details on breakpoints in XSCT,
type help breakpoint in XSCT.</p>
</li>
<li><p>Now resume the processor core.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">con</span></code></p>
<p>The following informative messages will be displayed when the core
hits the breakpoint.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">Info:</span> <span class="pre">Cortex-R5</span> <span class="pre">\#0</span> <span class="pre">(target</span> <span class="pre">7)</span> <span class="pre">Stopped</span> <span class="pre">at</span> <span class="pre">0x10021C</span> <span class="pre">(Breakpoint)</span></code></p>
</li>
<li><p>At this point, you can view registers when the core is stopped.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">rrd</span></code></p>
</li>
<li><p>View local variables.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">locals</span></code></p>
</li>
<li><p>Step over a line of the source code and view the stack trace.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">nxt</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Cortex</span><span class="o">-</span><span class="n">R5</span> <span class="c1">#0 (target 6) Stopped at 0x100490 (Step)</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">bt</span>
</pre></div>
</div>
<p>You can use the help command to find other options:</p>
<p><img alt="../../_images/image511.png" src="../../_images/image511.png" /></p>
<p>You can use the help running command to get a list of possible options
for running or debugging an application using XSCT.</p>
<p><img alt="../../_images/image522.png" src="../../_images/image522.png" /></p>
</li>
<li><p>You can now run the code:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">con</span></code></p>
<p>At this point, you can see the Cortex-R5F application print message on
UART-1 terminal.</p>
</li>
</ol>
<p>© Copyright 2017-2020 Xilinx, Inc.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on January 19, 2021.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>